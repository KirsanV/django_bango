{% extends 'base.html' %}

{% block title %}Главная - Продукты №1{% endblock %}

{% block content %}

<div class="container text-center mb-5">
  <h1 class="display-4">Продукты №1</h1>
  <p class="lead text-muted">Обычный продуктовый магазин</p>
</div>

<div class="container mb-5">
  <div class="row justify-content-center g-4">
    {% for product in products %}
    <div class="col-md-4 col-sm-6">
      <div class="card h-100 shadow-sm border-0 rounded-3">
        <div class='card-header bg-white text-center'>
          <h4 class='mb-0'>{{ product.name }}</h4>
        </div>
        <div class='card-body d-flex flex-column'>
          {% if product.image %}
            <img src="{{ product.image.url }}" alt="{{ product.name }}" class="img-fluid rounded">
          {% else %}
            <img src="/static/no-image.png" alt="Нет изображения" class="img-fluid rounded">
          {% endif %}
          <h1 class='card-title pricing-card-title text-center mb-3'>{{ product.price }} ₽</h1>
          <p>{{ product.description|slice:":100" }}{% if product.description|length > 100 %}...{% endif %}</p>
          <div class='mt-auto'>
            <a href="{% url 'product_detail' product.id %}" class='btn btn-outline-primary w-100'>Подробнее</a>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}